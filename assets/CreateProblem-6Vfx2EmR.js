import{j as e,D as j,r as t,d as v,b as N}from"./index-mfX_9d7k.js";import{M as w}from"./MarkdownRender-fcVTzyII.js";import{p as k,c as C,a as P}from"./problem-vfjQAEX3.js";import{C as y}from"./CircleCheckIcon-4TeB5QZ9.js";import{P as S}from"./PlusIcon-6JLGy66w.js";const T=r=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:j,strokeLinecap:"round",strokeLinejoin:"round",className:r.className,children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-6.489 5.8a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z"})]}),E=`Output a string with format: \`Hello! %s\`

## Input

- The first line contains a string \`s\`

## Output

- Output a string \`Hello! %s\`

## Example

### Input:

\`\`\`
world!
\`\`\`

### Output:

\`\`\`
Hello! world!
\`\`\`

`,L=()=>{const[r,p]=t.useState(""),[d,b]=t.useState(""),[o,h]=t.useState(E),[n,m]=t.useState(["default"]),[c,x]=t.useState(""),[i,u]=t.useState(void 0),{t:l}=v(),f=N(),g=a=>{m(n.filter(s=>s!==a))};return t.useEffect(()=>{const a=s=>{s.preventDefault(),s.returnValue="You have unsaved changes. Are you sure you want to leave?"};return window.addEventListener("beforeunload",a),()=>{window.removeEventListener("beforeunload",a)}},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:l("Create Problem")}),e.jsxs("div",{className:"flex gap-4 px-2",children:[e.jsx("button",{className:"btn btn-error btn-sm text-base-100","aria-label":"Delete",onClick:()=>{window.history.back()},children:l("Cancel")}),e.jsx("button",{className:"btn btn-primary btn-sm text-base-100",onClick:()=>{k({slug:r,title:d,description:o,tags:n.map(a=>({name:a}))}).then(a=>{f("/admin/problems")})},children:l("Create")})]})]}),e.jsxs("div",{className:"w-full pt-2",children:[e.jsx("p",{className:"",children:l("Please fill in the information below to create a new problem.")}),e.jsx("p",{className:"",children:l("The information marked with * is required.")})]}),e.jsx("div",{className:"card mt-4 w-full rounded border border-base-content/10 bg-base-100 pt-4 shadow-xl",children:e.jsxs("div",{className:"card-body -mt-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"form-control w-full max-w-xs",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Problem Slug"})}),e.jsx("input",{type:"text",placeholder:"slug should be unique",className:"input input-bordered w-full max-w-xs",onChange:a=>{if(p(a.target.value),a.target.value===""){u(void 0);return}C(a.target.value).then(s=>{u(s.valid)})},value:r})]}),e.jsxs("div",{className:"mt-9",children:[r&&i===void 0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"loading loading-spinner loading-md"}),e.jsx("p",{className:"text-sm ",children:l("Checking slug is valid...")})]}),i&&e.jsx(y,{className:"h-8 fill-green-500 stroke-none"}),i===!1&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-8 fill-red-500 stroke-none","aria-label":"Error"}),e.jsx("p",{className:"text-sm ",children:l("Slug is not valid.")})]})]})]}),e.jsxs("label",{className:"form-control w-full max-w-xs",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Upload Package"})}),e.jsx("input",{type:"file",className:"file-input w-full max-w-xs",onChange:a=>{a.target.files&&P(r,a.target.files[0]).then(s=>{console.log("uploaded")})},disabled:!i,accept:".zip"})]}),e.jsx("div",{className:"divider"}),e.jsxs("label",{className:"form-control -mt-3 w-full max-w-xs",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Problem Title"})}),e.jsx("input",{type:"text",placeholder:"which displays on problem header",className:"input input-bordered w-full max-w-xs",onChange:a=>{b(a.target.value)},value:d})]}),e.jsx("span",{className:"ml-1 mt-4 text-sm",children:"Problem Description"}),e.jsxs("div",{role:"tablist",className:"tabs-boxed tabs p-1",children:[e.jsx("input",{type:"radio",name:"problem_description_tabs",role:"tab",className:"tab","aria-label":"Raw",defaultChecked:!0}),e.jsx("div",{role:"tabpanel",className:"tab-content rounded-md border-base-300 bg-base-100 p-2",children:e.jsx("textarea",{className:"textarea m-0 h-96 w-full leading-5",placeholder:"write problem description here",onChange:a=>{h(a.target.value)},value:o})}),e.jsx("input",{type:"radio",name:"problem_description_tabs",role:"tab",className:"tab","aria-label":"Preview"}),e.jsx("div",{role:"tabpanel",className:"tab-content rounded-md border-base-300 bg-base-100 p-2",children:e.jsx("div",{className:"h-96 w-full overflow-auto p-4",children:e.jsx(w,{content:o})})})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[n.length>0&&e.jsx("div",{className:"flex gap-2",children:n.map(a=>e.jsx("div",{className:"badge badge-neutral cursor-pointer gap-2",onClick:()=>{g(a)},children:e.jsx("span",{children:a})},a))}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"form-control w-full max-w-xs",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"Problem Tags"})}),e.jsx("input",{type:"text",placeholder:"click tag to remove",className:"input input-bordered w-full max-w-xs",onChange:a=>{x(a.target.value)}})]}),e.jsx("div",{className:"mt-9",children:e.jsx("button",{className:"btn btn-circle btn-primary btn-sm",onClick:()=>{if(c){let a=!1;n.forEach(s=>{s===c&&(a=!0)}),a||(m([...n,c]),x(""))}},children:e.jsx(S,{className:"h-6 w-6 "})})})]})]})]})})]})};export{L as default};
