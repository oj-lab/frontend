import{h as d,r as n}from"./index-r4e2lJ-r.js";async function L(t,e,s){let u=JSON.stringify({code:e,language:s}),o=await d.post(`/api/v1/problem/${t}/judge`,u);if(o.status!==200)throw Error("failed to run judge");return o.data}async function p(t,e){t=t||10,e=e||0;let s=await d.get("/api/v1/judge",{params:{limit:t,offset:e}});if(s.status!==200)throw Error("failed to get judge list");return s.data}async function j(t){let e=await d.get(`/api/v1/judge/${t}`);if(e.status!==200)throw Error("failed to get judge detail");return e.data}const y=t=>{const[e,s]=n.useState();n.useEffect(()=>{j(t).then(u=>{s(u)}).catch(u=>{console.log(u)})},[t]);function r(){return e}return{getJudge:r}},E=t=>{const[e,s]=n.useState(""),[r,u]=n.useState("");function o(i){L(t,e,r).then(g=>{i(g)}).catch(g=>{console.log(g)})}function c(){return r}return{runJudge:o,setSrc:s,setSrcLanguage:u,getSrcLanguage:c}},m=()=>{const[t,e]=n.useState(0),[s,r]=n.useState(10),[u,o]=n.useState(0),[c,i]=n.useState([]),g=()=>{p().then(a=>{i(a.list),e(a.total)}).catch(a=>{console.log(a)})};n.useEffect(g,[s,u]);function f(){return c}function l(){g()}function J(a){return Math.ceil(t/a)}function h(a,S){r(a),o(S)}return{getJudgeList:f,refreshJudgeList:l,getPageCount:J,setPagenation:h}};export{m as a,y as b,E as u};
