import{e as l,r as n}from"./index-UOh1pdBn.js";var a;(e=>{async function s(t,g,c){let d=JSON.stringify({code:g,language:c}),o=await l.post(`/api/v1/problem/${t}/judge`,d);if(o.status!==200)throw Error("failed to run judge");return o.data}e.postJudge=s;async function u(){let t=await l.get("/api/v1/judge");if(t.status!==200)throw Error("failed to get judge list");return t.data}e.getJudgeList=u;async function r(t){let g=await l.get(`/api/v1/judge/${t}`);if(g.status!==200)throw Error("failed to get judge detail");return g.data}e.getJudge=r})(a||(a={}));const h=e=>{const[s,u]=n.useState();n.useEffect(()=>{a.getJudge(e).then(t=>{u(t)}).catch(t=>{console.log(t)})},[e]);function r(){return s}return{getJudge:r}},p=e=>{const[s,u]=n.useState(""),[r,t]=n.useState(""),[g,c]=n.useState([]);function f(o){a.postJudge(e,s,r).then(i=>{c(i),o()}).catch(i=>{console.log(i)})}function d(){return g}return{runJudge:f,getVerdicts:d,setSrc:u,setSrcLanguage:t}},L=()=>{const[e,s]=n.useState([]);n.useEffect(()=>{a.getJudgeList().then(t=>{s(t.list)}).catch(t=>{console.log(t)})},[]);function u(){return e}function r(){a.getJudgeList().then(t=>{s(t.list)}).catch(t=>{console.log(t)})}return{getJudgeList:u,refreshJudgeList:r}};export{L as a,h as b,p as u};
