import{r as t,c as y,A as I}from"./index-r4e2lJ-r.js";import{g as E,b as Q}from"./problem-poYpEBPP.js";const C=(u,r)=>{const[i,a]=t.useState(null),o=t.useRef(r),f=y();t.useEffect(()=>{o.current=r},[r]),t.useEffect(()=>{E(u).then(c=>{a(c)}).catch(c=>{var s;f({type:I,payload:{id:"problem-fetch-error",content:"Failed to fetch problem",duration:3e3,err:c.toString()}}),(s=o.current)==null||s.call(o)})},[u]);function n(){return i}return{getProblem:n}},D=()=>{const[u,r]=t.useState([]),[i,a]=t.useState(0),[o,f]=t.useState(10),[n,c]=t.useState(0),[s,P]=t.useState(""),[l,g]=t.useState(""),m=t.useCallback(()=>{Q(o,n,s,l).then(e=>{r(e.list),a(e.total)}).catch(e=>{console.log(e)})},[o,n,s,l]);t.useEffect(()=>{m()},[o,n,s,l,m]);function p(){return u}function h(e){return Math.ceil(i/e)}function S(e,b){f(e),c(b)}function L(e,b){P(e),g(b)}function d(){m()}return{getProblemInfoList:p,getPageCount:h,setPagenation:S,setSearch:L,refreshProblemInfoList:d}};export{D as a,C as u};
