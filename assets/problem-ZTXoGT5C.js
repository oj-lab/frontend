import{r as t,h as y,A as I}from"./index-G97hQbyO.js";import{g as E,b as Q}from"./problem-5pFqQ-bL.js";const C=(c,r)=>{const[i,a]=t.useState(null),o=t.useRef(r),f=y();t.useEffect(()=>{o.current=r},[r]),t.useEffect(()=>{E(c).then(u=>{a(u)}).catch(u=>{var s;f({type:I,payload:{id:"problem-fetch-error",content:"Failed to fetch problem",duration:3e3,err:u.toString()}}),(s=o.current)==null||s.call(o)})},[c]);function n(){return i}return{getProblem:n}},D=()=>{const[c,r]=t.useState([]),[i,a]=t.useState(0),[o,f]=t.useState(10),[n,u]=t.useState(0),[s,P]=t.useState(""),[l,g]=t.useState(""),m=t.useCallback(()=>{Q(o,n,s,l).then(e=>{r(e.list),a(e.total)}).catch(e=>{console.log(e)})},[o,n,s,l]);t.useEffect(()=>{m()},[o,n,s,l,m]);function h(){return c}function p(e){return Math.ceil(i/e)}function S(e,b){f(e),u(b)}function L(e,b){P(e),g(b)}function d(){m()}return{getProblemInfoList:h,getPageCount:p,setPagenation:S,setSearch:L,refreshProblemInfoList:d}};export{D as a,C as u};
