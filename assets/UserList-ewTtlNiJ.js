import{e as j,r as c,d as f,j as e,U as P,R as d}from"./index-edA9tX-z.js";import{P as v}from"./Pagination-6kB9MYid.js";async function U(s,t){s=s||10,t=t||0;let a=await j.get("/api/v1/user",{params:{limit:s,offset:t}});if(a.status!==200)throw Error("failed to get problem list");return a.data}const N=()=>{const[s,t]=c.useState([]),[a,r]=c.useState(0),[l,o]=c.useState(10),[i,x]=c.useState(0);c.useEffect(()=>{U(l,i).then(n=>{t(n.list),r(n.total)})},[l,i]);function h(){return s}function m(n){return Math.ceil(a/n)}function b(n,g){o(n),x(g)}return{getUserInfoList:h,getPageCount:m,setPagenation:b}},p=s=>{const{t}=f();return e.jsx(e.Fragment,{children:e.jsx("div",{className:s.className,children:e.jsxs("table",{className:"table","aria-label":"Problem Table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-base-content/10",children:[e.jsx("th",{children:t("Avatar")},"avatar"),e.jsx("th",{children:t("Name")},"name"),e.jsx("th",{children:t("Account")},"account"),e.jsx("th",{children:t("Roles")},"roles")]})}),e.jsx("tbody",{children:s.data.map(a=>e.jsxs("tr",{className:"border-base-content/10",children:[e.jsx("td",{className:"flex items-center gap-3 py-2",children:e.jsx("div",{className:"avatar",children:e.jsx(P,{alt:a.name,avatarUrl:a.avatarUrl})})}),e.jsx("th",{children:a.name}),e.jsx("td",{children:a.account}),e.jsx("td",{children:e.jsx(L,{roles:a.roles??[]})})]},a.account))})]})})})},L=s=>s.roles===void 0?e.jsx(e.Fragment,{}):e.jsx("div",{className:"space-x-2",children:s.roles.map(t=>e.jsx("div",{className:"badge border-0 bg-base-300 font-semibold text-base-content/80",children:t},t))}),u=[10,25,50],E=()=>{const{getUserInfoList:s,getPageCount:t,setPagenation:a}=N(),[r,l]=d.useState(u[0]),[o,i]=d.useState(0);return c.useEffect(()=>{a(r,o*r)},[r,o]),e.jsxs("div",{className:"card card-bordered flex w-full flex-col rounded border-base-content/10 bg-base-100",children:[e.jsx(p,{data:s(),showActions:!0,className:s().length===1?"":"border-b border-base-content/10"}),e.jsx(v,{page:o,pageCount:t(r),setCountPerPage:l,countPerPage:r,countPerPageSelections:u,setPage:i})]})};export{E as default};
