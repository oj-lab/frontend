import{r as t,h as S,A as y}from"./index-3vG2TcR0.js";import{g as L,b as E}from"./problem-i6-8VWXQ.js";const I=r=>r.replace(/^# .*\n/,""),M=(r,n)=>{const[u,a]=t.useState(null),o=t.useRef(n),l=S();t.useEffect(()=>{o.current=n},[n]),t.useEffect(()=>{L(r).then(s=>{s.description=I(s.description),a(s)}).catch(s=>{var c;l({type:y,payload:{id:"problem-fetch-error",content:"Failed to fetch problem",duration:3e3,err:s.toString()}}),(c=o.current)==null||c.call(o)})},[r]);function i(){return u}return{getProblem:i}},x=()=>{const[r,n]=t.useState([]),[u,a]=t.useState(0),[o,l]=t.useState(10),[i,s]=t.useState(0),[c,m]=t.useState(""),[p,P]=t.useState("");t.useEffect(()=>{E(o,i).then(e=>{n(e.list),a(e.total)}).catch(e=>{console.log(e)})},[o,i,c,p]);function g(){return r}function b(e){return Math.ceil(u/e)}function d(e,f){l(e),s(f)}function h(e,f){m(e),P(f)}return{getProblemInfoList:g,getPageCount:b,setPagenation:d,setSearch:h}};export{x as a,M as u};
