import{g as o,j as t,f as d,U as h,h as u,c as x,r as i,A as f}from"./index-5gPbFPLR.js";import{f as j}from"./unit-FxYNZTue.js";const m=e=>{const{t:a}=o();return t.jsx("div",{className:e.className,children:t.jsxs("table",{className:"table","aria-label":"Problem Table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-base-content/10",children:[t.jsx("th",{children:a("Rank")},"rank"),t.jsx("th",{children:a("User")},"user"),t.jsx("th",{children:a("Submit Count")},"submit-count"),t.jsx("th",{children:a("Accept Count")},"accept-count"),t.jsx("th",{children:a("Accept Rate")},"accept-rate")]})}),t.jsx("tbody",{children:e.data.map((s,c)=>{var n,r,l;return t.jsxs("tr",{className:d(e.data.length>1?"border-base-content/10":"border-0"),children:[t.jsx("th",{children:s.rank}),t.jsxs("td",{className:"flex items-center gap-3 py-2",children:[t.jsx("div",{className:"avatar",children:t.jsx(h,{alt:(n=s.user)==null?void 0:n.name,avatarUrl:(r=s.user)==null?void 0:r.avatarUrl})}),t.jsx("span",{children:(l=s.user)==null?void 0:l.name})]}),t.jsx("td",{children:s.submitCount}),t.jsx("td",{children:s.acceptCount}),t.jsx("td",{children:j(s.acceptRate)})]},c)})})]})})};async function b(){let e=await u.get("/api/v1/rank");if(e.status!==200)throw Error("failed to get judge list");return e.data}const p=()=>{const e=x(),{t:a}=o(),[s,c]=i.useState([]);i.useEffect(()=>{b().then(r=>{r.list&&c(r.list)}).catch(r=>{e({type:f,payload:{id:"rank-fetch-error",content:`${a("Failed to fetch rank list")}`,duration:3e3,level:"error",err:r.toString()}})})},[e,a]);function n(){return s}return{getRankList:n}},R=()=>{const{getRankList:e}=p(),a=e();return t.jsx("div",{className:"flex w-full flex-auto flex-col gap-8 sm:flex-row",children:t.jsx("div",{className:"h-fit w-full overflow-auto rounded border border-base-content/10 bg-base-100",children:t.jsx("div",{className:"flex w-full flex-col gap-2",children:t.jsx(m,{data:a})})})})};export{R as default};
