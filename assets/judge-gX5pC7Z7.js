import{e as l,r}from"./index--5Gn8Hb3.js";var a;(e=>{async function s(t,g,c){let i=JSON.stringify({code:g,language:c}),o=await l.post(`/api/v1/problem/${t}/judge`,i);if(o.status!==200)throw Error("failed to run judge");return o.data}e.postJudge=s;async function n(){let t=await l.get("/api/v1/judge");if(t.status!==200)throw Error("failed to get judge list");return t.data}e.getJudgeList=n;async function u(t){let g=await l.get(`/api/v1/judge/${t}`);if(g.status!==200)throw Error("failed to get judge detail");return g.data}e.getJudge=u})(a||(a={}));const p=e=>{const[s,n]=r.useState();r.useEffect(()=>{a.getJudge(e).then(t=>{n(t)}).catch(t=>{console.log(t)})},[e]);function u(){return s}return{getJudge:u}},L=e=>{const[s,n]=r.useState(""),[u,t]=r.useState(""),[g,c]=r.useState([]);function f(J){a.postJudge(e,s,u).then(d=>{c(d),J()}).catch(d=>{console.log(d)})}function i(){return g}function o(){return u}return{runJudge:f,getVerdicts:i,setSrc:n,setSrcLanguage:t,getSrcLanguage:o}},j=()=>{const[e,s]=r.useState([]);r.useEffect(()=>{a.getJudgeList().then(t=>{s(t.list)}).catch(t=>{console.log(t)})},[]);function n(){return e}function u(){a.getJudgeList().then(t=>{s(t.list)}).catch(t=>{console.log(t)})}return{getJudgeList:n,refreshJudgeList:u}};export{j as a,p as b,L as u};
