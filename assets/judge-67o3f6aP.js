import{h as J,r as u}from"./index-heu4BMK2.js";async function L(t,e,s){let n=JSON.stringify({code:e,language:s}),o=await J.post(`/api/v1/problem/${t}/judge`,n);if(o.status!==200)throw Error("failed to run judge");return o.data}async function p(t,e){t=t||10,e=e||0;let s=await J.get("/api/v1/judge",{params:{limit:t,offset:e}});if(s.status!==200)throw Error("failed to get judge list");return s.data}async function j(t){let e=await J.get(`/api/v1/judge/${t}`);if(e.status!==200)throw Error("failed to get judge detail");return e.data}const y=t=>{const[e,s]=u.useState();u.useEffect(()=>{j(t).then(n=>{s(n)}).catch(n=>{console.log(n)})},[t]);function r(){return e}return{getJudge:r}},E=t=>{const[e,s]=u.useState(""),[r,n]=u.useState(""),[o,i]=u.useState([]);function d(l){L(t,e,r).then(g=>{i(g),l()}).catch(g=>{console.log(g)})}function c(){return o}function f(){return r}return{runJudge:d,getVerdicts:c,setSrc:s,setSrcLanguage:n,getSrcLanguage:f}},m=()=>{const[t,e]=u.useState(0),[s,r]=u.useState(10),[n,o]=u.useState(0),[i,d]=u.useState([]),c=()=>{p().then(a=>{d(a.list),e(a.total)}).catch(a=>{console.log(a)})};u.useEffect(c,[s,n]);function f(){return i}function l(){c()}function g(a){return Math.ceil(t/a)}function S(a,h){r(a),o(h)}return{getJudgeList:f,refreshJudgeList:l,getPageCount:g,setPagenation:S}};export{m as a,y as b,E as u};
